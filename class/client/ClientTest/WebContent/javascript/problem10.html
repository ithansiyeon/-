<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        span {
            margin-right: 10px;
        }
        
        .title{
            margin-right: 65px;
            
        }

        .main{
            font-weight: bold;
            margin-bottom: 30px;
        }

        .box {
            width: 600px;
            border: solid black;
        }

        input {
            margin: 3px 5px;
        }
        #num10 {
            margin-right: 1px;
        }
        input[type=text]:read-only {
            background-color: yellow;
            cursor: not-allowed
        }

    </style>
</head>
<body>
    <div class="box">
        <div class="main">입력하기</div>
        <div>
            <span class="title">번호</span>
            <span class="title">입력</span>
            <span class="title">잠금</span>
        </div>
        <div><span class="num">1</span>
            <input type="text" name = "txt" data-index = "0"><input type="checkbox" class="cb" name = "cb" data-index = "0"></div>

        <div><span class="num">2</span>
            <input type="text" name = "txt" data-index = "1"><input type="checkbox" class="cb" name = "cb" data-index = "1"></div>

        <div><span class="num">3</span>
            <input type="text" name = "txt" data-index = "2"><input type="checkbox" class="cb" name = "cb" data-index = "2"></div>

        <div><span class="num">4</span>
            <input type="text" name = "txt" data-index = "3"><input type="checkbox" class="cb" name = "cb" data-index = "3"></div>

        <div><span class="num">5</span>
            <input type="text" name = "txt" data-index = "4"><input type="checkbox" class="cb" name = "cb" data-index = "4"></div>

        <div><span class="num">6</span>
            <input type="text" name = "txt" data-index = "5"><input type="checkbox" class="cb" name = "cb" data-index = "5"></div>

        <div><span class="num">7</span>
            <input type="text" name = "txt" data-index = "6"><input type="checkbox" class="cb" name = "cb" data-index = "6"></div>

        <div><span class="num">8</span>
            <input type="text" name = "txt" data-index = "7"><input type="checkbox" class="cb" name = "cb" data-index = "7"></div>

        <div><span class="num">9</span>
            <input type="text" name = "txt" data-index = "8"><input type="checkbox" class="cb" name = "cb" data-index = "8"></div>
        <div><span class="num" id="num10">10</span>
            <input type="text" name = "txt10" data-index = "9"><input type="checkbox" class="cb" name = "cb10" data-index = "9"></div>
    </div>
        
    <script>
        var cb = document.all.cb;
        var txt = document.all.txt;
        for (var i = 0; i < cb.length; i++) {
                cb[i].onchange = function () {
                    if (event.srcElement.checked) {
                        txt[event.srcElement.dataset["index"]].readOnly = true;
                        //txt[event.srcElement.dataset["index"]].bgColor"gray";
                    } else {
                        txt[event.srcElement.dataset["index"]].readOnly = false;
                    }
                };

                txt[i].ondblclick = function () {
                    console.log(1);
                    txt[event.srcElement.dataset["index"]].readOnly = false;
                    // cb[event.srcElement.dataset["index"]].click();

                };
                txt[i].onkeydown = function () {
                    if (event.keyCode == 13) {
                        event.srcElement.checked;
                        txt[event.srcElement.dataset["index"]].readOnly = true;
                        // cb[event.srcElement.dataset["index"]].click();
                    }
                };
            }

        

    </script>
</body>
</html>